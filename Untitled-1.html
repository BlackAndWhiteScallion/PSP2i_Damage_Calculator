
<!DOCTYPE html>
<html>
<head lang="en">
	<title>Phantasy Star 2 Infinity Damage Calculator</title>
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="keywords" content="Phantasy Star 2 Infinity Damage Calculator" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/animate.css">
	<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,400,300,600,700|Six+Caps' rel='stylesheet' type='text/css' />
	<script src="js/jquery.min.js"></script>


	<!-- GOOGLE ANALYTICS JS -->
	<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-85513259-1', 'auto');
		  ga('send', 'pageview');
	</script>
	<!-- END OF GOOGLE ANALYTICS JS -->

</head>
<body>
	<link href="css/jquery-confirm.min.css" rel='stylesheet' type='text/css' />

		<!--header-top-starts-->
    <div id="navbar" style="grid-template-columns: 1fr 1fr" class="grid animated fadeInDown">
		<!-- LEFT GRID -->
        <div id="navbar-main">
			<div id="navbar-logo"><img src="images/cc_logo.gif"></div>
			<div id="navbar-title">
				<a href="index.php">PSP2i Damage Calculator</a>
			</div>
        </div>

		<!-- RIGHT GRID -->
        <div style="display:flex; justify-content:flex-end; align-items:center;">
			<div class="ml-5 mr-5">
			</div>

        </div><!-- END OF RIGHT GRID -->
	</div><!-- END OF NAVBAR -->

	<div id="wrapper">
	<!-- script-for-menu -->
	<script>
		$(document).ready(function() {
			$("body").click(function() {
				$(".username-menu").removeClass('active');
				$(".language-menu").removeClass('active');
			});
		});
	</script>
	    <div id="sidebar" class="animated fadeInLeft fast">
        <div id="sidebar-content">
            <div class="sidebar-content-item-wrapper">
                <div id="main-menu" class="sidebar-content-item active" data-target="tab-1" style="height:100%; display:flex; flex-direction:column; justify-content:space-between">
                    <div class="all-menu"> <!-- all menu stays on top -->
						<p class="sidebar-tab-item-title">Menu</p>
<ul class="menu-root">
	<li><a href="/forum/">Forum</a></li>
	</ul>

			</div> <!-- end of menus -->

                    <div>
					     <p><a href="credits.php">Credits</a></p>
					     <p style="font-family: Arial; font-size:13px; font-style:italic; color:#999;">Coryn Club - Toram Online Database is ©Cruithne. Toram Online is ©Asobimo, Inc. All Rights Reserved. </p>
                	</div>
                </div>
            </div>

            <div class="sidebar-content-item-wrapper">
                <div class="sidebar-content-item " data-target="tab-2">
					                    <!-- SAMPLE -->
                    <!--<p class="sidebar-tab-item-title" style="border: 1px solid green; display:block">Guide Content</p>
					<ul class="menu-root">
						<li><a class="nested" href="#">Item</a>
						<li><a class="nested" href="#">Item</a>
					</ul>-->
                </div>
            </div>
        </div>
        <div id="sidebar-tab">
            <div class="sidebar-tab-item active" data-target="tab-1" title="Menu">
                <i class="fas fa-bars fa-lg"></i>
            </div>
            <div class="sidebar-tab-item " data-target="tab-2" title="Extra" style="display:none">
                <i class="fas fa-book fa-lg"></i>
            </div>
            <div class="sidebar-tab-item back-to-top" title="Back To Top">
                <i class="fas fa-chevron-up fa-lg"></i>
            </div>
            <div id="scrollbox" style="flex:1 0 100px;">
            </div>
        </div>
    </div>


	
	<!-- Required Script -->


	<div class="snackbar bg-success" id="save_sukses"></div>
	<div class="snackbar bg-danger" id="save_gagal"></div>
	<!-- content -->
	<div id="content" class="animated fast fadeInUp">
		<p class="content-title text-center">Melee Damage Calculator<i></i></p>
		
		<form onchange="calculate()" class="card-container stat-calc">
			<div>
				<p class="card-title"><a href="javascript:$('#sec_basicstat').toggle();void(0);">Player Character Stats<i class="ml-15"></i></a></p>
				<hr class="separator">
				<div id="sec_basicstat" style="display:flex; flex-flow: row wrap">
					<div class="grid grid-gap-10"  style="grid-template-columns: 1fr 1fr; flex: 0 1 300px; margin-right:20px; margin-bottom:10px; ">
						<p class="accent-bold">ATK</p>
						<input type="number" id="ATK" class="form-control" min="1" max="3000" value="1">
						<p class="accent-medium">Prayer %</p>
						<input type="number" id="mainstability" class="form-control" min="0" max="200" step="10" value="100">
						<p class="accent-medium">Shifta Lv</p>
						<input type="number" id="mainstability" class="form-control" min="0" max="200" step="10" value="100">
					</div>
				</div>
			</div>
		
			<div>
				<p class="card-title"><a href="javascript:$('#sec_equipment').toggle();void(0);">Equipments</a></p>
				<hr class="separator">
				<div class="grid grid-gap-20 stat-calc-inner-cont" id="sec_equipment">
					<div class="stat-calc-equip-grid">
						<div class="stat-calc-equip-item" style="grid-row-end: span 14; ">
							<h3 class="accent-bold grid">Melee Weapon</h3>
								<select class="form-control grid-2-4" id="mainweapon" onchange="update_weapon()">
									<option value="Sword" selected>Sword</option>
									<option value="Axe">Axe</option>
									<option value="Double Saber">Double Saber</option>
									<option value="Twin Claws">Twin Claws</option>
									<option value="Twin Sabers">Twin Sabers</option>
									<option value="Twin Daggers">Twin Daggers</option>
									<option value="Saber">Saber</option>
									<option value="Dagger">Dagger</option>
									<option value="Whip">Whip</option>
									<option value="Slicer">Slicer</option>
								</select>
							<p class="accent-medium">ATK</p>
							<input type="number" id="mainATK" class="form-control grid-2-4" min="0" value="0">
							<p class="accent-medium">Rarity</p>
							<input type="number" id="mainRare" class="form-control grid-2-4" min="1" max="16" value="1" disabled="disabled">
							<p class="accent-medium">PA%</p>
							<input type="number" id="mainstability" class="form-control miw-70" min="0" max="200" step="10" value="100">
							<div>%</div>
						</div>
						<div class="stat-calc-equip-item" style="grid-row-end: span 14; ">
							<h3 class="accent-bold grid">Left-Hand</h3>
								<select class="form-control grid-2-4" id="Left-Hand" onchange="update_weapon()">
									<option value="Bare Hand" selected>Handgun</option>
									<option value="1H Sword">1H</option>
								</select>
							<p class="accent-medium">Rarity</p>
							<input type="number" id="subRare" class="form-control grid-2-4" min="1" max="16" value="1" disabled="disabled">
						</div>
					</div>
			</div>

			<div>
				<p class="card-title"><a href="javascript:$('#sec_passive').toggle();void(0);">Passive Skill(s)</a></p>
				<hr class="separator">
			</div>

					<div>
		<center>
		</center>
		</div>
	
			
		</form>

		<p class="mt-30 content-title text-center">Damage Calculation<br> <i><small>(Ver. Alpha 1.1)</small></i></p>
		<form onchange="calculate()" id="sec_damage" class="card-container" style="align-items:stretch">
			<div class="grid grid-gap-10" style="grid-template-columns: 1fr 1fr">
				<p class="card-title grid-1-3">Enemy's Stat</b> <small><i>*default value is Don Yeti</i></small></p>
				<hr class="separator grid-1-3">
				<p class="accent-bold">Level</p>
				<input type="number" id="mob_level" class="form-control miw-70" value="1">
				<p class="accent-bold">DEF/MDEF</p>
				<input type="number" id="mob_def" class="form-control miw-70" value="206" readonly>
				<p class="accent-bold">Resist Melee</p>
				<input type="number" id="mob_physres" class="form-control miw-70" value="4">
				<p class="accent-bold">Element</p>
				<select id="mob_ele" class="form-control miw-70">
					<option value="neutral"> Neutral </option>
					<option value="fire"> Fire </option>
					<option value="water"> Ice </option>
					<option value="earth" selected="selected"> Ground </option>
					<option value="wind"> Lightning </option>
					<option value="light"> Light </option>
					<option value="dark"> Dark </option>
				</select>
			</div>
			<div class="grid grid-gap-10" style="grid-template-columns: minmax(100px, 1fr) 1fr">
				<p class="card-title grid-1-3">Skill</p>
				<hr class="separator grid-1-3">
				<p class="accent-bold">Cast Distance</p>
				<select id="skill_dist" class="form-control miw-70">
					<option value="placed" selected="selected"> placed skill</option>
					<option value="short"> short range </option>
					<option value="long"> long range </option>
				</select>
				<p class="accent-bold">Unsheathe</p>
				<select id="skill_unsheathe" class="form-control miw-70">
					<option value="no" selected="selected"> no </option>
					<option value="yes"> yes </option>
				</select>
				<p class="accent-bold">Constant</p>
				<input type="number" id="skill_const" class="form-control miw-70" value="0">
				<p class="accent-bold">Multiplier</p>
				<input type="number" id="skill_mult" class="form-control miw-70" value="1">
			</div>
			<div class="grid grid-gap-10" style="grid-template-columns: minmax(100px, 1fr) 1fr">
				<p class="card-title grid-1-3">Other Effects</p>
				<hr class="separator grid-1-3">
				<p class="accent-bold">Skill Modifier %</p>
				<input type="number" id="other_skill" class="form-control" value="100">
				<p class="grid-1-3 text-light"><i>*such as Long Range & Martial Disciple</i></p>
				<p class="accent-bold">Combo Modifier %</p>
				<input type="number" id="other_combo" class="form-control" value="100">
				<p class="grid-1-3 text-light"><i>E.g., 150% for smitted skill</i></p>
				<p class="accent-bold">Proration Modifier %</p>
				<input type="number" id="other_prorate" class="form-control" value="100">
			</div>
		</form>
		<div class="space-lg"></div>

		<div>
			<p class="text-center">
				<small><i>
					Formula used on this calculator is based on the explanation at
					<a href="https://www.dopr.net/toramonline-wiki/status">
					<b>[Toram Wiki's Status page]</b></a> and my personal findings.<br>
					Many thanks to TheXIIIthGuy, Mayam, Ainred, and all other friends
					who helped with various detailed info.<br>
					Some formula may be incorrect or missing, in such case,
					please kindly report via pm to our Facebook Page
					<a href="https://www.facebook.com/corynclub/"><b>[here]</b></a>.
				</i></small>
			</p>
	</div>
	</div>


	<script>
		function update_weapon(){
			
		}
	</script>
	<!-- content ends -->

		</div> <!-- END OF CONTENT WRAPPER -->

	<script src="js/sohacky.js"></script>
    <script>
        /* Top nav */
        $("#username_container").click(function(e) {
            e.preventDefault();
            e.stopPropagation();
            $(".username-menu").toggleClass('active');
            $("#username_chevron_up").toggleClass('active');
            $("#username_chevron_down").toggleClass('active');
        })
        $("#language_container").click(function(e) {
			e.preventDefault();
			e.stopPropagation();
			$(".language-menu").toggleClass('active');
			$("#language_chevron_up").toggleClass('active');
			$("#language_chevron_down").toggleClass('active');
        })

        /* Sidebar */
        if ($(window).width() <= 950) {
            $("#sidebar").removeClass('animated fadeInLeft fast');
            $(".sidebar-content-item").removeClass('active');;
            $(".sidebar-tab-item").removeClass('active');;
        }

        $('.sidebar-tab-item').on('click',function(ev){
            const target = ev.currentTarget.dataset.target;
            if(!target){
                return;
            }
            if ($(window).width() <= 950) {
                if(!ev.currentTarget.classList.contains('active') && !$("#sidebar").hasClass('active')){
                    $("#sidebar").addClass('active')
                }else if(ev.currentTarget.classList.contains('active')){
                    $(".sidebar-content-item").removeClass('active');;
                    $(".sidebar-tab-item").removeClass('active');;
                    $("#sidebar").removeClass('active');
                    return;
                }
            }
            $(`.sidebar-content-item[data-target!="${target}"]`).removeClass('active');;
            $(`.sidebar-content-item[data-target="${target}"]`).addClass('active');

            $(`.sidebar-tab-item[data-target!="${target}"]`).removeClass('active');;
            $(`.sidebar-tab-item[data-target="${target}"]`).addClass('active');
        });

        $('.back-to-top').on('click',(ev) => {
            ev.preventDefault();
            var $anchor = $(this);
            $('#content').stop().animate({
                scrollTop: 0
            }, 500);
        });

        /* Sidebar Menu */
        $('ul.menu-root a.nested').click(function(e){
            if(e.target.tagName === 'A'){
                $(this).toggleClass('expanded');
                $(this).siblings('div.submenu').toggleClass('collapse');
            }
        })

        /* Pagination JS */
        $('body').on('click','.pagination-js-btn', (e) => {
            let pagebtn = $(e.currentTarget);
            let list = $(pagebtn.parent().data('target'));
            let pagenumber = parseInt(pagebtn.data('page-number'));
            changePage($(list),pagenumber);
        })
        function changePage(list,pagenumber){
            let disp = list.data('display');
            let accord = list.data('accord');
            let listitems = list.children('.pagination-js-items').children();
            let total = listitems.length;
            let perpage = list.data('perpage');
            let totalpage = Math.ceil(total / perpage);
            let currentpage = list.data('current-page');
            let pagination = $('[data-target="#' + list.attr('id') + '"].pagination-js-btngroup');
            let pstart = pagenumber;
            let numbtn = 3;
            let offset = Math.floor(numbtn / 2);
            if(pagenumber <= 0 || pagenumber > totalpage){
                return;
            }
            list.data('current-page',pagenumber);
            pstart -= offset;
             if(pstart < 1){
                pstart = 1;
            }else if(pstart + numbtn > totalpage){
                pstart = totalpage - (numbtn - 1)
                if(pstart < 1) pstart = 1;
            }
            pagination.html('');
            let prev = pagenumber - 1;
            let next = pagenumber + 1;
            let active = false;
            listitems.each((idx,elem) => {
                let num = idx + 1;
                if(num <= pagenumber * perpage && num >= (pagenumber * perpage) - (perpage - 1) ){
                    $(elem).css('display',disp);
                }else{
                    $(elem).css('display','none');
                }
            });
            pagination.append(`<a href="#" class="pagination-js-btn" data-page-number="${1}"><i class="fas fa-angle-double-left"></i></a>`);
            pagination.append(`<a href="#" class="pagination-js-btn" data-page-number="${prev}"><i class="fas fa-angle-left"></i></a>`);
            for(let i  = pstart, j = 0;j < numbtn && i <= totalpage;i++,j++){
                if(i === pagenumber){
                    active = true;
                }else{
                    active = false;
                }
                pagination.append(`<a href="#" class="pagination-js-btn ${(active)?'active':''}" data-page-number="${i}">${i}</a>`);
            }
            pagination.append(`<a href="#" class="pagination-js-btn" data-page-number="${next}"><i class="fas fa-angle-right"></i></a>`);
            pagination.append(`<a href="#" class="pagination-js-btn" data-page-number="${totalpage}"><i class="fas fa-angle-double-right"></a>`);
            if(totalpage < 2){
                pagination.css('display','none');
            }

            //fix height if inside accordion
            if(typeof accord !== 'undefined' && $(accord).get(0).style.maxHeight!=0)
            		$(accord).get(0).style.maxHeight = $(accord).get(0).scrollHeight + 30 + "px";

        }

        /* Accordion */
        $('body').on('click','ul.accordion > li > div:first-child',accordionOnClick);
        function accordionOnClick(e){
            const item = $(e.currentTarget).parent();
            const accordion = item.parent();
            const content = item.children('div:nth-child(2)');
            const aItem = item.siblings('.active');
            const aContent = aItem.children('div:nth-child(2)');
            if(item.hasClass('active')){
                content.get(0).style.maxHeight = 0;
            }else{
                content.get(0).style.maxHeight = content.get(0).scrollHeight + 30 + "px";
            }

            if(aItem.length > 0){
                aContent.get(0).style.maxHeight = 0;
                aItem.toggleClass('active');
            }
            item.toggleClass('active');
        }
        function accordionInit(){
          $('ul.accordion > li.active > div:first-child').each((_,target) => {
            const item = $(target).parent();
            const content = item.children('div:nth-child(2)');
            content.get(0).style.maxHeight = content.get(0).scrollHeight + 30 + "px";
          })
        }

		/* Page Initialization */
        accordionInit();	//accordion goes first, so the init height is calculated correctly
        $('.js-pagination').each((ilist, list) => {
			changePage($(list),1);
        })

    </script>

</body>
</html>

<script type="text/javascript" src="stat_calculator_v4_6.js"></script>
<script type="text/javascript" src="js/jquery-confirm.min.js"></script>
<script>
	$( document ).ready(function() {
		MAX_STAT = parseInt(565);
		show_options($("#addEQ"), ADDITIONAL);
		show_options($("#spcEQ"), SPECIAL);
		show_options($("#armorEQ"), ARMOR);
		show_options($("#maincrysta"), XTAL_WEAPON);
		show_options($("#maincrysta2"), XTAL_WEAPON);
		show_options($("#armorcrysta"), XTAL_ARMOR);
		show_options($("#armorcrysta2"), XTAL_ARMOR);
		show_options($("#addcrysta"), XTAL_ADD);
		show_options($("#addcrysta2"), XTAL_ADD);
		show_options($("#spccrysta"), XTAL_SPC);
		show_options($("#spccrysta2"), XTAL_SPC);
		calculate();

			});
</script>